# Youtube Registration Channel Migration

## 背景

ブランドチャンネルで登録しているチャンネルすべてをマスターアカウントに移行したいと考えた。
ブランドチャンネルを普段利用していたが、Googleアカウントに紐づいたマスターアカウントではないとメンバーシップの特典などが受け取れないことに気づいた。
ブランドチャンネルでは動画投稿などをしており、マスターアカウントに移行するとチャンネル名やアイコンがGoogleアカウントに登録されているものなってしまう。。。それは無理。
なので、マスターアカウントを整備するしか道がない。
ただ、500人近く登録しているため、手動で登録し直すなんてバカみたいな選択肢はない。
Googleはとても優秀でAPIが用意されていた。これを使うしか選択肢がないと確信した。


## 仕様
- `get_channel_id.py`
    - スクリプトを起動するとGoogleへのOAuth認証が求められる。
    - OAuth認証が通ると、APIにリクエストを送り、ログインしたチャンネルの登録チャンネルの情報を取得する。
    - 取得した情報から"channelId"のみを抜き出して、`id_list.txt`を出力する。

- `subscribe_channel.py`
    - スクリプトを起動するとカレントディレクトリに存在する`id_list.txt`を読み込む。
        - `id_list.txt`が存在しない場合はエラーを出力し、スクリプトを終了させる。
    - ファイルを正常に読み込みができたら、GoogleへのOAuth認証が求められる。
    - OAuth認証が通ると、`id_list.txt`に記載されているchannel_idをログインしたチャンネルで登録をしていく。

## 開発環境
- Windows 10/11
- Python 3.9.13

## パッケージインストール
```
pip install -r requirements.txt
```

## 実行手順
1. GCPのYouTube Data API v3を有効化する。[^1]
2. OAuth 2.0 Client IDsのクレデンシャルを作成する。
3. 作成したクレデンシャルの詳細画面からjsonファイルをダウンロードする。
4. ダウンロードしたファイルの名前を`client_secrets.json`にリネームして、スクリプトと同じフォルダ(ディレクトリ)に配置する。
5. `get_channel_id.py`を実行する。
6. エラーなく終了しており、`id_list.txt`が存在していることを確認する。
7. `subscribe_channel.py`を実行する。[^2]

[^1]: 詳しくは記載しないです。気合で何とかしてください。自己責任でお願いします。
[^2]: 200人ぐらい登録したところでクォーター制限に引っかかる可能性が高いです。